{"version":3,"file":"list.js","sources":["../src/js/api.js","../src/js/catalog.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\n\naxios.defaults.baseURL = 'https://66f82af52a683ce9730ed951.mockapi.io';\n\nexport async function getCatalog() {\n  try {\n    const response = await axios.get('/Products');\n\n    if (response.data.length === 0) {\n      iziToast.error({\n        message: 'Oops...Something went wrong!',\n        position: 'bottomRight',\n      });\n      return;\n    }\n    return response.data;\n  } catch {\n    iziToast.error({\n      message: 'Oops...Something went wrong!',\n      position: 'bottomRight',\n    });\n  }\n}","import { getCatalog } from './api'; //   getCatalog повертає всі елементи\nimport Swiper from 'swiper/bundle';\n\nconst catalogContainer = document.querySelector('[data-action=\"catalog\"]');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const catalogOpened = localStorage.getItem('catalogOpened');\n  \n  if (catalogOpened === 'true') {\n    // Запит для отримання всього каталогу\n    fetchAllCatalogItems();\n  }\n});\n\n// Функція для отримання всіх елементів каталогу\nasync function fetchAllCatalogItems() {\n  const catalogArray = await getCatalog(); // Отримуємо всі елементи каталогу\n  const selectedCategory = localStorage.getItem('selectedMenu'); // Отримуємо категорію з локального сховища\n  \n  // Фільтруємо елементи в залежності від вибраної категорії\n  const filteredCatalogArray = selectedCategory \n    ? catalogArray.filter(item => item.category === selectedCategory) // Змінити item.category на відповідну категорію\n    : catalogArray; // Якщо категорія не вибрана, беремо всі елементи\n\n  runCatalog(Promise.resolve(filteredCatalogArray)); // Рендеримо відповідні елементи\n}\n\n// Основна функція рендерингу\nasync function runCatalog(get) {\n  const catalogArray = await get;\n  createMarkupCatalog(renderMarkupCatalog, catalogArray);\n  initializeSwiper();\n}\n\nfunction renderMarkupCatalog(array) {\n  return array\n    .map(\n      (ar) => `\n        <li class=\"swiper-slide catalog__itemSwip\">\n            <a href=\"./list_info.html\" class=\"catalog__linkSwip data-list\">\n                <img class=\"catalog__imgSwip\"\n                  src=\"${ar.image}\" \n                  alt=\"${ar.name}\" \n                  loading=\"lazy\"\n                />\n              <div class=\"catalog__containarElSwip\">\n                <div>\n                  <h3 class=\"catalog__titleSecondarySwip\">${ar.name}</h3>\n                  <p class=\"catalog__priceSwip\">${ar.price}</p>\n                </div>\n                <button class=\"catalog__btnCartSwip\">\n\t\t\t\t          <svg class=\"catalog__iconCartSwip\">\n\t\t\t\t              <use href=\"../img/svg/symbol-defs.svg#cart\"></use>\n\t\t\t\t          </svg>\n\t\t\t          </button>\n              </div>\n            </a>\n        </li>`\n    )\n    .join('');\n}\n\nfunction createMarkupCatalog(callback, array) {\n  catalogContainer.insertAdjacentHTML('beforeend', callback(array));\n}\n\nfunction initializeSwiper() {\n  const swiperCat = new Swiper('.catalog__swiper', {\n    keyboard: {\n      enabled: true,\n      onlyInViewport: false,\n    },\n    navigation: {\n      nextEl: '.catalog__swipBtn--next',\n      prevEl: '.catalog__swipBtn--prev',\n    },\n    breakpoints: {\n      0: {\n        slidesPerView: 2,\n        spaceBetween: 20,\n        grid: {\n          rows: 5,\n        },\n      },\n      768: {\n        slidesPerView: 3,\n        spaceBetween: 20,\n        grid: {\n          rows: 5,\n        },\n      },\n      1024: {\n        slidesPerView: 3,\n        spaceBetween: 30,\n        grid: {\n          rows: 5,\n        },\n      },\n    },\n    pagination: {\n      el: '.catalog__pagination',\n      clickable: true,\n      renderBullet: function (index, catalog__bullet) {\n        return '<span class=\"' + catalog__bullet + '\">' + (index + 1) + '</span>';\n      },\n    },\n  });\n}\n\nlet swiperBtn;\nfunction initSwiperBtn() {\n  if (window.innerWidth <= 480) {\n    if (!swiperBtn) {\n      swiperBtn = new Swiper('.btn__swiper', {\n        slidesPerView: 2,\n        spaceBetween: 32,\n      });\n    }\n  } else {\n    if (swiperBtn) {\n      swiperBtn.destroy(true, true);\n      swiperBtn = undefined;\n    }\n  }\n}\ninitSwiperBtn();\nwindow.addEventListener('resize', initSwiperBtn);\n"],"names":["axios","getCatalog","response","iziToast","catalogContainer","fetchAllCatalogItems","catalogArray","selectedCategory","filteredCatalogArray","item","runCatalog","get","createMarkupCatalog","renderMarkupCatalog","initializeSwiper","array","ar","callback","Swiper","index","catalog__bullet","swiperBtn","initSwiperBtn"],"mappings":"6FAGAA,EAAM,SAAS,QAAU,8CAElB,eAAeC,GAAa,CACjC,GAAI,CACF,MAAMC,EAAW,MAAMF,EAAM,IAAI,WAAW,EAE5C,GAAIE,EAAS,KAAK,SAAW,EAAG,CAC9BC,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,aAClB,CAAO,EACD,MACD,CACD,OAAOD,EAAS,IACpB,MAAU,CACNC,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,aAChB,CAAK,CACF,CACH,CCpBA,MAAMC,EAAmB,SAAS,cAAc,yBAAyB,EAEzE,SAAS,iBAAiB,mBAAoB,IAAM,CAC5B,aAAa,QAAQ,eAAe,IAEpC,QAEpBC,GAEJ,CAAC,EAGD,eAAeA,GAAuB,CACpC,MAAMC,EAAe,MAAML,IACrBM,EAAmB,aAAa,QAAQ,cAAc,EAGtDC,EAAuBD,EACzBD,EAAa,OAAOG,GAAQA,EAAK,WAAaF,CAAgB,EAC9DD,EAEJI,EAAW,QAAQ,QAAQF,CAAoB,CAAC,CAClD,CAGA,eAAeE,EAAWC,EAAK,CAC7B,MAAML,EAAe,MAAMK,EAC3BC,EAAoBC,EAAqBP,CAAY,EACrDQ,GACF,CAEA,SAASD,EAAoBE,EAAO,CAClC,OAAOA,EACJ,IACEC,GAAO;AAAA;AAAA;AAAA;AAAA,yBAIWA,EAAG,KAAK;AAAA,yBACRA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4DAK4BA,EAAG,IAAI;AAAA,kDACjBA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAUrD,EACA,KAAK,EAAE,CACZ,CAEA,SAASJ,EAAoBK,EAAUF,EAAO,CAC5CX,EAAiB,mBAAmB,YAAaa,EAASF,CAAK,CAAC,CAClE,CAEA,SAASD,GAAmB,CACR,IAAII,EAAO,mBAAoB,CAC/C,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EACD,WAAY,CACV,OAAQ,0BACR,OAAQ,yBACT,EACD,YAAa,CACX,EAAG,CACD,cAAe,EACf,aAAc,GACd,KAAM,CACJ,KAAM,CACP,CACF,EACD,IAAK,CACH,cAAe,EACf,aAAc,GACd,KAAM,CACJ,KAAM,CACP,CACF,EACD,KAAM,CACJ,cAAe,EACf,aAAc,GACd,KAAM,CACJ,KAAM,CACP,CACF,CACF,EACD,WAAY,CACV,GAAI,uBACJ,UAAW,GACX,aAAc,SAAUC,EAAOC,EAAiB,CAC9C,MAAO,gBAAkBA,EAAkB,MAAQD,EAAQ,GAAK,SACjE,CACF,CACL,CAAG,CACH,CAEA,IAAIE,EACJ,SAASC,GAAgB,CACnB,OAAO,YAAc,IAClBD,IACHA,EAAY,IAAIH,EAAO,eAAgB,CACrC,cAAe,EACf,aAAc,EACtB,CAAO,GAGCG,IACFA,EAAU,QAAQ,GAAM,EAAI,EAC5BA,EAAY,OAGlB,CACAC,IACA,OAAO,iBAAiB,SAAUA,CAAa"}